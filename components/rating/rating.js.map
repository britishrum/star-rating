{"version":3,"sources":["../../../src/components/rating/rating.js"],"names":[],"mappings":"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","file":"rating.js","sourcesContent":["(function(document) {\r\n    document._currentScript = document._currentScript || document.currentScript;\r\n    const thisDocument = document._currentScript.ownerDocument,\r\n        maxvalueDefault = 5,\r\n        value = Symbol(),\r\n        starsize = Symbol(),\r\n        maxvalue = Symbol(),\r\n        opacity = Symbol(),\r\n        disabled = Symbol();\r\n\r\n\r\n    class XRating extends HTMLElement {\r\n        constructor() {\r\n            super();\r\n        }\r\n\r\n        createdCallback() {\r\n            let root = this.createShadowRoot(),\r\n                template = thisDocument.querySelector('#x-rating-template'),\r\n                clone = thisDocument.importNode(template.content, true);\r\n\r\n            for (let i = 0; i < (this.getAttribute('maxvalue') || maxvalueDefault); i++) {\r\n                let star = document.createElement('x-star');\r\n                this.shadowRoot.appendChild(star);\r\n                star.addEventListener('click', (e) => {\r\n                    if (!this.disabled) {\r\n                        enableStars(this.shadowRoot.querySelectorAll('x-star'), i + 1);\r\n                        this.value = i + 1;\r\n                    }\r\n                });\r\n            }\r\n            for (let attr of this.attributes) {\r\n                this.attributeChangedCallback(attr.name, null, attr.value);\r\n            }\r\n            root.appendChild(clone);\r\n        }\r\n\r\n        attributeChangedCallback(attrName, oldVal, newVal) {\r\n            if (oldVal != newVal && ['starsize', 'value', 'disabled', 'maxvalue', 'opacity'].indexOf(attrName) >= 0) {\r\n                this[attrName] = newVal;\r\n            }\r\n        }\r\n\r\n        set starsize(size) {\r\n            if (this.starsize != size) {\r\n                this[starsize] = size;\r\n                let stars = this.shadowRoot.querySelectorAll('x-star');\r\n                Array.prototype.forEach.call(stars, star => star.size = size);\r\n                this.setAttribute('starsize', val);\r\n            }\r\n        }\r\n\r\n        get starsize() {\r\n            return this[starsize];\r\n        }\r\n\r\n        set value(val) {\r\n            if (this.value != val) {\r\n                this[value] = val;\r\n                let stars = this.shadowRoot.querySelectorAll('x-star');\r\n                enableStars(stars, val);\r\n                this.setAttribute('value', val);\r\n            }\r\n        }\r\n\r\n        get value() {\r\n            return this[value];\r\n        }\r\n\r\n        set disabled(val) {\r\n            if (this.disabled != val) {\r\n                this[disabled] = val;\r\n            }\r\n        }\r\n\r\n        get disabled() {\r\n            return this[disabled];\r\n        }\r\n\r\n        set maxvalue(val) {\r\n            if (this.maxvalue != val) {\r\n                this[maxvalue] = val;\r\n            }\r\n        }\r\n\r\n        get maxvalue() {\r\n            return this[maxvalue];\r\n        }\r\n\r\n        set opacity(val) {\r\n            if (this.opacity != val) {\r\n                this[opacity] = val;\r\n                let stars = this.shadowRoot.querySelectorAll('x-star');\r\n                Array.prototype.forEach.call(stars, star => star.opacity = val);\r\n            }\r\n        }\r\n\r\n        get opacity() {\r\n            return this[opacity];\r\n        }\r\n    }\r\n\r\n    function enableStars(stars, value) {\r\n        Array.prototype.forEach.call(stars, (star, idx) =>\r\n            star.enabled = (idx < value));\r\n    }\r\n\r\n    document.registerElement('x-rating', XRating);\r\n})(document);\r\n"]}